<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xt="http://ns.inria.org/xtiger" xml:lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>The "file" plugin</title>

    <xt:head version="1.1" templateVersion="1.0" label="Demo">
    </xt:head>

    <style type="text/css" media="screen">
    </style>

    <!-- template enrichment : extracts and generates xt:attribute and xt:use sample code -->
    <link rel="stylesheet" type="text/css" href="../shared/demo.css" />
    <script type="text/javascript" src="../../3rd-part/jquery/js/jquery-1.7.1.min.js">//</script>
    <script type="text/javascript" src="../shared/demo.js">//</script>
  </head>
  <body>
    <p class="warning">To test file upload, you must have opened this application from a web server implementing the file upload protocol</p>

    <h1>The "file" plugin</h1>

    <p>The <code>"file"</code> plugin uploads files to a server. It displays it's current content as an <code>img</code> image handler with a tooltip giving status information, including a link to download the file if available.</p>

    <ul class="parameters">
      <li><var>file_URL</var> (<code><b>/fileUpload</b></code>) : service endpoint address for sending file data</li>
      <li><var>file_base</var> (<code>undefined</code>) : prefix to be added before file path to generate the link to upload the file in the tooltip</li>
      <li><var>file_type</var> (<code><b>application/pdf</b></code>) : whitespace separated list of accepted file MIME types</li>
      <li><var>file_type_message</var> (<code><b>'warnFileTypeDefault'</b></code> key in locales) : alert message to show on selection of a file with wrong MIME type</li>
      <li><var>file_gen_name</var> (<code><b>auto</b></code> | manual) : when <i>manual</i> user can edit a file name to send to the server together with the file data; this edited name is first sent to the server in a preflight request; useful to let users edit file link names</li>
      <li><var>file_size_limit</var> (<code>undefined</code>) : file size limit in KB</li>
    </ul>
    
    <h2>Example</h2>
    
    <p>Add a file : 
      <xt:use types="file" label="LinkRef1" param="file_URL=test;file_gen_name=manual;file_type_message=Vous devez sÃ©lectionner un document PDF ou un document Microsoft Office (Word, Excel, Power Point);file_type=application/pdf application/msword application/vnd.openxmlformats-officedocument.wordprocessingml.document application/vnd.ms-excel application/vnd.openxmlformats-officedocument.spreadsheetml.sheet application/vnd.ms-powerpoint application/vnd.openxmlformats-officedocument.presentationml.presentation;filter=event;file_size_limit=1024"/>
    </p>
    
    <h2>With 'file_delete' option</h2>
    
    <p>Add a file : 
      <xt:use types="file" label="LinkRef2" param="file_URL=test;file_base=test;file_delete=delete;filter=event;file_size_limit=1024"/>
    </p>
    
    
  </body>
</html>
